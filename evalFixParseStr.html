<!DOCTYPE html>
<html>
  <head>
    <title>Restricted Expression Evaluator</title>
  </head>
  <body>
    <input id="expr" placeholder="Enter expression, e.g. (2+3)/4" />
    <button id="calcBtn">Calculate</button>
    <div id="result"></div>

    <script>
      function safeCalculate(input) {
        // Allow ONLY digits, whitespace, parentheses, decimal points, and basic operators
        if (!/^[0-9+\-*/().\s]+$/.test(input)) {
          throw new Error("Invalid characters in expression");
        }

        // Strict mode + validated characters reduces risk compared to raw eval,
        // but a proper math parser is even better in real applications.
        return Function('"use strict"; return (' + input + ')')();
      }

      document.getElementById("calcBtn").addEventListener("click", () => {
        const expr = document.getElementById("expr").value.trim();
        const resultDiv = document.getElementById("result");

        try {
          const result = safeCalculate(expr);
          resultDiv.textContent = "Result: " + result;
        } catch (e) {
          resultDiv.textContent = "Error: " + e.message;
        }
      });
    </script>
  </body>
</html>
